{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { defineComponent, ref } from 'vue';\nimport EButton from \"@/components/elements/EButton\";\nexport default defineComponent({\n  name: \"EUpload\",\n  emits: ['update'],\n  components: {\n    EButton\n  },\n  setup(props, {\n    emit\n  }) {\n    const inputRef = ref(null);\n    const handleChange = e => {\n      const files = [];\n      if (e.target.files) {\n        // Ищем файлы от события добавления input[type=\"file\"]\n        for (const file of e.target.files) {\n          files.push(file);\n        }\n      }\n\n      // Если никакие файлы не найдены\n      if (!files) return;\n      const file = files[0];\n      emit('update', file);\n    };\n    const addFile = () => {\n      inputRef.value.value = null;\n      inputRef.value.click();\n    };\n    return {\n      inputRef,\n      handleChange,\n      addFile\n    };\n  }\n});","map":{"version":3,"names":["defineComponent","ref","EButton","name","emits","components","setup","props","emit","inputRef","handleChange","e","files","target","file","push","addFile","value","click"],"sources":["C:\\Users\\ivanov_n\\IdeaProjects\\netology-diplom-frontend\\src\\components\\elements\\EUpload.vue"],"sourcesContent":["<template>\r\n  <div class=\"e-upload\">\r\n    <input ref=\"inputRef\"\r\n           class=\"e-upload__input\"\r\n           name='file'\r\n           type=\"file\"\r\n           @change=\"handleChange\">\r\n\r\n    <EButton @click=\"addFile\">\r\n      Добавить\r\n    </EButton>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {defineComponent, ref} from 'vue';\r\nimport EButton from \"@/components/elements/EButton\";\r\n\r\nexport default defineComponent({\r\n  name: \"EUpload\",\r\n  emits: ['update'],\r\n  components: {\r\n    EButton\r\n  },\r\n  setup(props, {emit}) {\r\n    const inputRef = ref(null);\r\n\r\n    const handleChange = (e) => {\r\n      const files = [];\r\n\r\n      if (e.target.files) {\r\n        // Ищем файлы от события добавления input[type=\"file\"]\r\n        for (const file of e.target.files) {\r\n          files.push(file);\r\n        }\r\n      }\r\n\r\n      // Если никакие файлы не найдены\r\n      if (!files) return;\r\n\r\n      const file = files[0];\r\n\r\n      emit('update', file);\r\n    };\r\n\r\n    const addFile = () => {\r\n      inputRef.value.value = null;\r\n      inputRef.value.click();\r\n    };\r\n\r\n    return {\r\n      inputRef,\r\n      handleChange,\r\n      addFile\r\n    };\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.e-upload {\r\n  &__input {\r\n    display: none;\r\n  }\r\n}\r\n</style>"],"mappings":";AAeA,SAAQA,eAAe,EAAEC,GAAG,QAAO,KAAK;AACxC,OAAOC,OAAM,MAAO,+BAA+B;AAEnD,eAAeF,eAAe,CAAC;EAC7BG,IAAI,EAAE,SAAS;EACfC,KAAK,EAAE,CAAC,QAAQ,CAAC;EACjBC,UAAU,EAAE;IACVH;EACF,CAAC;EACDI,KAAKA,CAACC,KAAK,EAAE;IAACC;EAAI,CAAC,EAAE;IACnB,MAAMC,QAAO,GAAIR,GAAG,CAAC,IAAI,CAAC;IAE1B,MAAMS,YAAW,GAAKC,CAAC,IAAK;MAC1B,MAAMC,KAAI,GAAI,EAAE;MAEhB,IAAID,CAAC,CAACE,MAAM,CAACD,KAAK,EAAE;QAClB;QACA,KAAK,MAAME,IAAG,IAAKH,CAAC,CAACE,MAAM,CAACD,KAAK,EAAE;UACjCA,KAAK,CAACG,IAAI,CAACD,IAAI,CAAC;QAClB;MACF;;MAEA;MACA,IAAI,CAACF,KAAK,EAAE;MAEZ,MAAME,IAAG,GAAIF,KAAK,CAAC,CAAC,CAAC;MAErBJ,IAAI,CAAC,QAAQ,EAAEM,IAAI,CAAC;IACtB,CAAC;IAED,MAAME,OAAM,GAAIA,CAAA,KAAM;MACpBP,QAAQ,CAACQ,KAAK,CAACA,KAAI,GAAI,IAAI;MAC3BR,QAAQ,CAACQ,KAAK,CAACC,KAAK,CAAC,CAAC;IACxB,CAAC;IAED,OAAO;MACLT,QAAQ;MACRC,YAAY;MACZM;IACF,CAAC;EACH;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}