{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"e-upload\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_EButton = _resolveComponent(\"EButton\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"input\", {\n    ref: \"inputRef\",\n    class: \"e-upload__input\",\n    name: \"file\",\n    type: \"file\",\n    onChange: _cache[0] || (_cache[0] = (...args) => _ctx.handleChange && _ctx.handleChange(...args))\n  }, null, 544), _createVNode(_component_EButton, {\n    onClick: _ctx.addFile\n  }, {\n    default: _withCtx(() => _cache[1] || (_cache[1] = [_createTextVNode(\" Добавить \")])),\n    _: 1,\n    __: [1]\n  }, 8, [\"onClick\"])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","ref","name","type","onChange","_cache","args","_ctx","handleChange","_createVNode","_component_EButton","onClick","addFile"],"sources":["C:\\Users\\ivanov_n\\IdeaProjects\\netology-diplom-frontend\\src\\components\\elements\\EUpload.vue"],"sourcesContent":["<template>\r\n  <div class=\"e-upload\">\r\n    <input ref=\"inputRef\"\r\n           class=\"e-upload__input\"\r\n           name='file'\r\n           type=\"file\"\r\n           @change=\"handleChange\">\r\n\r\n    <EButton @click=\"addFile\">\r\n      Добавить\r\n    </EButton>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {defineComponent, ref} from 'vue';\r\nimport EButton from \"@/components/elements/EButton\";\r\n\r\nexport default defineComponent({\r\n  name: \"EUpload\",\r\n  emits: ['update'],\r\n  components: {\r\n    EButton\r\n  },\r\n  setup(props, {emit}) {\r\n    const inputRef = ref(null);\r\n\r\n    const handleChange = (e) => {\r\n      const files = [];\r\n\r\n      if (e.target.files) {\r\n        // Ищем файлы от события добавления input[type=\"file\"]\r\n        for (const file of e.target.files) {\r\n          files.push(file);\r\n        }\r\n      }\r\n\r\n      // Если никакие файлы не найдены\r\n      if (!files) return;\r\n\r\n      const file = files[0];\r\n\r\n      emit('update', file);\r\n    };\r\n\r\n    const addFile = () => {\r\n      inputRef.value.value = null;\r\n      inputRef.value.click();\r\n    };\r\n\r\n    return {\r\n      inputRef,\r\n      handleChange,\r\n      addFile\r\n    };\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.e-upload {\r\n  &__input {\r\n    display: none;\r\n  }\r\n}\r\n</style>"],"mappings":";;EACOA,KAAK,EAAC;AAAU;;;uBAArBC,mBAAA,CAUM,OAVNC,UAUM,GATJC,mBAAA,CAI8B;IAJvBC,GAAG,EAAC,UAAU;IACdJ,KAAK,EAAC,iBAAiB;IACvBK,IAAI,EAAC,MAAM;IACXC,IAAI,EAAC,MAAM;IACVC,QAAM,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,IAAA,CAAAC,YAAA,IAAAD,IAAA,CAAAC,YAAA,IAAAF,IAAA,CAAY;iBAE5BG,YAAA,CAEUC,kBAAA;IAFAC,OAAK,EAAEJ,IAAA,CAAAK;EAAO;sBAAE,MAE1BP,MAAA,QAAAA,MAAA,O,iBAF0B,YAE1B,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}